@model Supplier
<div id="exampleModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary text text-white">
                <h5 class="modal-title">Supplier Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color: white;">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <form method="post" asp-action="CreatePartial" asp-controller="Supplier">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="form-group">
                                <label>Name <span class="required">*</span></label>
                                <input type="text" asp-for="Name" class="form-control" required autofocus />
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-group">
                                <label class="control-label"> Phone </label>
                                <input asp-for="Phone" class="form-control" />
                                <span asp-validation-for="Phone" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-group">
                                <label class="control-label"> Email </label>
                                <input asp-for="Email" class="form-control" />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-group">
                                <label class="control-label"> Country </label>
                                <select class="select2 form-control" style="width: 100%;" id="CountryIdd" asp-for="Countryid" asp-items="@ViewBag.Countries">
                                    <option selected="selected" value="0">--Select Country--</option>
                                </select>
                                <span asp-validation-for="Countryid" class="text-danger"></span>
                                <a asp-action="Index" asp-controller="Country" class="text text-info" style="color: white; cursor: pointer;">
                                    <i class="fa fa-flag"></i> Manage Country
                                </a>
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-group">
                                <label class="control-label"> Province </label>
                                <select class="form-control select2" style="width: 100%;" id="ProvinceIdd" asp-for="Provinceid">
                                    <option selected="selected" value="0">--Select Province--</option>
                                </select>
                                <span asp-validation-for="Provinceid" class="text-danger"></span>
                                <a asp-action="Index" asp-controller="Province" class="text text-info" style="color: white; cursor: pointer;">
                                    <i class="fa fa-map"></i> Manage Province
                                </a>
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="form-group">
                                <label class="control-label"> Address </label>
                                <input asp-for="Address" class="form-control" />
                                <span asp-validation-for="Address" class="text-danger"></span>
                            </div>
                        </div>

                        <div class="form-group" hidden>
                            <label class="control-label">Previous Balance</label>
                            <input type="number" hidden step="any" asp-for="PreviousBalance" class="form-control" value="0" />
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-save="modal">Save</button>
                            <a asp-action="Index" asp-controller="Supplier" class="btn btn-primary">Manage</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    //has error
    $(function () {
        $('.select2').select2()
    });
    $(document).ready(function () {
        $("#CountryIdd").select2({
            dropdownParent: $("#exampleModal")
        });
        $("#ProvinceIdd").select2({
            dropdownParent: $("#exampleModal")
        });
    });
    $('#CountryIdd').change(function () {
            var pId = $(this).val();
            var elm = $('#ProvinceIdd');
            elm.empty().append('<option selected="selected" value="0">---Select Province---</option>');
        $.ajax({
            type: "GET",
            cache: false,
            url: '@Url.Action("GetProvincesByID", "Home")',
            data: {"id": pId},
            contentType: "application/json",
            dataType: "json",
            success: function (response) {
                response.forEach(function (item) {
                    elm.append($('<option>').val(item['id']).text(item['name']));
                });
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                console.log("No Provice for !");
            }
        });
    });
</script>